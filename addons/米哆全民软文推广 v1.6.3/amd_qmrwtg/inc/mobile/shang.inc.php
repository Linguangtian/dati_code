<?php
 goto zWXxO; Re0SH: echo $data; goto pRpSz; ZHnPG: $money = $_GPC["\163\144\x6f\x6c"]; goto s37iw; MueFy: load()->func("\x74\x70\154"); goto QmN4c; Jbn_1: function getpayment($money, $kjSetting) { goto h_gzX; i407c: $unifiedOrder->setParameter("\x74\162\x61\144\145\137\x74\171\x70\x65", "\x4a\x53\101\x50\111"); goto YkrRj; tg9Bn: $money = floatval($money); goto Ivkv0; IXYiw: $openid = $_SESSION["\x6f\141\165\164\150\137\x6f\160\145\x6e\151\x64"]; goto K74K0; lvYTb: $unifiedOrder->setParameter("\x6e\x6f\x74\x69\x66\171\x5f\x75\x72\x6c", $notifyUrl); goto i407c; K74K0: xw1xw: goto meOtD; haIa0: $out_trade_no = date("\131\x6d\x64") . substr(implode(NULL, array_map("\x6f\162\144", str_split(substr(uniqid(), 7, 13), 1))), 0, 8); goto z5PKb; eu0BC: if (!($_W["\x61\x63\143\157\x75\x6e\164"]["\x6c\x65\166\x65\x6c"] < 4)) { goto xw1xw; } goto IXYiw; h_gzX: global $_W; goto tg9Bn; x8v40: $jsApi = new JsApi_pub($kjSetting); goto a3HkK; z5PKb: $unifiedOrder->setParameter("\x6f\165\x74\137\164\x72\x61\x64\x65\x5f\x6e\x6f", "{$out_trade_no}"); goto NKS20; OW_3p: $notifyUrl = $_W["\163\x69\x74\x65\x72\157\157\x74"] . "\141\x64\x64\x6f\156\x73\x2f\x61\155\x64\137\161\155\x72\x77\x74\147\57\163\150\x61\x6e\x67\x2e\x70\150\x70"; goto lvYTb; YkrRj: $prepay_id = $unifiedOrder->getPrepayId(); goto ffwRV; VvMA9: $unifiedOrder->setParameter("\x6f\160\x65\156\151\x64", "{$openid}"); goto HkSTt; HkSTt: $unifiedOrder->setParameter("\142\x6f\144\x79", "\350\xbd\xaf\xe6\226\x87\xe6\x89\x93\xe8\xb5\217"); goto alB81; alB81: $timeStamp = time(); goto haIa0; meOtD: $unifiedOrder = new UnifiedOrder_pub($kjSetting); goto VvMA9; a3HkK: $openid = $_W["\157\x70\145\156\151\144"]; goto eu0BC; NKS20: $unifiedOrder->setParameter("\164\x6f\x74\x61\x6c\x5f\146\145\x65", $money); goto OW_3p; Ezi6j: return $jsApiParameters; goto BMGzs; Ivkv0: $money = (int) ($money * 100); goto x8v40; pL9gI: ordersubmit($out_trade_no, $money); goto Ezi6j; ffwRV: $jsApi->setPrepayId($prepay_id); goto gZRV9; gZRV9: $jsApiParameters = $jsApi->getParameters(); goto pL9gI; BMGzs: } goto ZHnPG; SKNPb: $pay_parameters = "\x7b\x7d"; goto vBQwf; wqCFG: header("\x43\x6f\x6e\164\x65\156\164\x2d\164\171\x70\x65\x3a\141\x70\160\x6c\151\143\141\x74\151\x6f\156\x2f\152\163\x6f\x6e"); goto Re0SH; ANy_4: $detail = pdo_fetch("\123\105\x4c\105\103\x54\x20\x2a\x20\106\x52\117\115\x20" . tablename("\141\x6d\144\x5f\x71\155\162\167\164\x67") . "\40\x57\110\x45\122\x45\x20\140\151\x64\x60\x3d\x3a\x69\x64\40\141\x6e\144\x20\165\x6e\x69\x61\x63\151\x64\x3d\x3a\165\156\x69\141\x63\151\144", array("\72\151\x64" => $id, "\72\165\x6e\x69\141\143\151\144" => $uniacid)); goto oyJop; QmN4c: function ordersubmit($orderid, $moneynum) { goto h25V4; zI4ox: $openid = $_SESSION["\157\x61\165\x74\x68\137\x6f\160\145\x6e\x69\144"]; goto mwnnn; J8PDb: $data = array("\x75\x6e\151\x61\x63\151\x64" => $_W["\x75\x6e\151\141\143\151\x64"], "\x61\x72\164\x69\x63\154\x65\137\x69\x64" => $article_id, "\157\x70\x65\x6e\151\144" => $openid, "\x6f\141\x75\x74\x68\x5f\157\160\x65\x6e\151\144" => empty($_SESSION["\x6f\x61\165\164\x68\137\157\x70\145\x6e\x69\x64"]) ? $_W["\x66\141\x6e\x73"]["\146\x72\157\x6d\x5f\x75\163\x65\x72"] : $_SESSION["\x6f\x61\x75\164\x68\x5f\x6f\x70\x65\x6e\x69\144"], "\163\150\141\156\147\137\x6d\157\x6e\x65\x79" => $moneynum, "\x6f\165\164\137\x74\162\x61\x64\145\137\x6e\157" => $orderid, "\163\x68\141\156\147\x5f\163\x74\141\164\165\163" => 0, "\x73\x68\x61\156\x67\137\164\151\x6d\x65" => time(), "\150\x65\141\144\151\155\147" => tomedia($_W["\x66\141\x6e\x73"]["\164\141\x67"]["\141\x76\141\164\x61\x72"])); goto UlU0x; ueOG7: if (!($_W["\141\143\x63\157\165\156\164"]["\154\145\166\x65\154"] < 4)) { goto eJeC0; } goto zI4ox; h25V4: global $_W, $_GPC; goto rLo3f; UlU0x: pdo_insert("\x61\155\x64\x5f\x71\x6d\162\167\x74\147\137\163\x68\x61\156\147", $data); goto BO3ng; mwnnn: eJeC0: goto J8PDb; rLo3f: $article_id = intval($_GPC["\x61\162\x74\x69\x63\x6c\145\x5f\x69\x64"]); goto MqD90; ziWZW: $openid = $_W["\x6f\160\x65\x6e\151\144"]; goto ueOG7; MqD90: $uniacid = $_W["\165\156\x69\141\x63\151\x64"]; goto ziWZW; BO3ng: } goto YZ5HK; zr48m: $data = $pay_parameters; goto wqCFG; vBQwf: $pay_parameters = getpayment($money, $kjSetting); goto zr48m; oyJop: if (empty($money)) { goto pQykB; } goto SKNPb; YZ5HK: $kjSetting = $this->findKJsetting(); goto Jbn_1; s37iw: $id = $_GPC["\141\x72\x74\x69\143\154\145\x5f\x69\144"]; goto CssRY; zWXxO: global $_W, $_GPC; goto MueFy; pRpSz: exit; goto JZg37; CssRY: $uniacid = $_W["\x75\156\x69\x61\143\151\x64"]; goto ANy_4; JZg37: pQykB: